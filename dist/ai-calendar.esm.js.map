{"version":3,"file":"ai-calendar.esm.js","sources":["../src/AiCalendar.vue","../src/AiCalendar.vue?vue&type=template&id=ced4ed82&lang.js"],"sourcesContent":["<template>\n  <div class=\"calendar-container\"\n       :class=\"{ 'full-height': heightCalendar }\"\n       @touchstart=\"touchStart\"\n       @touchend=\"touchEnd\">\n    <!-- Фильтр по типу -->\n    <div v-if=\"showFilter\" style=\"width: 90vw; min-height: 40px\">\n      <div class=\"custom-select-filter\">\n        <button @click=\"toggleFilterMenu\" class=\"flat-button\" style=\"float: right; width: 40px; height: 40px\">\n          <span v-if=\"isQuasar\">\n             <q-icon name=\"mdi-filter-outline\" size=\"sm\" :color=\"$q.dark.isActive ? 'white' : 'black'\"/>\n          </span>\n          <span v-else :style=\"'color: '+colorButtonIcon+'; font-size: '+fontSizeIcon+'em'\">\n            <span v-if=\"iconFilter !== false\" :class=\"iconFilter\"></span><span v-else>⁝</span>\n          </span>\n        </button>\n        <div v-if=\"filterMenu\" class=\"down-right dropdown\">\n          <div v-if=\"!isQuasar\">\n            <div v-for=\"typeObj in uniqueTypes\" :key=\"typeObj.type\" class=\"option\">\n              <input type=\"checkbox\" v-model=\"activeFilters\" :value=\"typeObj.type\">\n              <span :style=\"{color: typeObj.color, marginLeft: '8px'}\">{{ typeObj.name }}</span>\n            </div>\n          </div>\n          <q-checkbox v-else class=\"full-width text-center\" :style=\"{color: typeObj.color}\" v-for=\"typeObj in uniqueTypes\" :key=\"typeObj.type\"\n                      :label=\"typeObj.name\" color=\"deep-purple-4\" v-model=\"activeFilters\" :val=\"typeObj.type\"/>\n        </div>\n      </div>\n    </div>\n    <!-- Заголовок -->\n    <div class=\"calendar-header\">\n      <!-- Выбор месяца -->\n      <button @click=\"prevMonth\" class=\"flat-button\">\n        <span v-if=\"isQuasar\">\n          <q-icon v-if=\"iconLeft !== false\" :color=\"$q.dark.isActive ? 'white' : 'black'\" :name=\"iconLeft\" :size=\"fontSizeIcon+'em'\"/><span v-else>‹</span>\n        </span>\n        <span v-else :style=\"'color: '+colorButtonIcon+'; font-size: '+fontSizeIcon+'em'\">\n          <span v-if=\"iconLeft !== false\" :class=\"iconLeft\"></span><span v-else>‹</span>\n        </span>\n      </button>\n      <div class=\"custom-select\" @click=\"toggleMonthMenu\">\n        {{ monthNames[selectedMonth] }}\n        <div v-if=\"isMonthMenuOpen\" class=\"down-left dropdown\">\n          <div v-for=\"(monthName, index) in monthNames\" :key=\"index\" class=\"option\" @click.stop=\"selectMonth(index)\">\n            {{ monthName }}\n          </div>\n        </div>\n      </div>\n      <button @click=\"nextMonth\" class=\"flat-button\">\n          <span v-if=\"isQuasar\">\n            <q-icon v-if=\"iconRight !== false\"  :color=\"$q.dark.isActive ? 'white' : 'black'\" :name=\"iconRight\" :size=\"fontSizeIcon+'em'\"/><span v-else>›</span>\n          </span>\n        <span v-else :style=\"'color: '+colorButtonIcon+'; font-size: '+fontSizeIcon+'em'\">\n            <span v-if=\"iconRight !== false\" :class=\"iconRight\"></span><span v-else>›</span>\n          </span>\n      </button>\n\n      <!-- Выбор года -->\n      <button @click=\"prevYear\" class=\"flat-button\">\n        <span v-if=\"isQuasar\">\n          <q-icon v-if=\"iconLeft !== false\"  :color=\"$q.dark.isActive ? 'white' : 'black'\" :name=\"iconLeft\" :size=\"fontSizeIcon+'em'\"/><span v-else>‹</span>\n        </span>\n        <span v-else :style=\"'color: '+colorButtonIcon+'; font-size: '+fontSizeIcon+'em'\">\n          <span v-if=\"iconLeft !== false\" :class=\"iconLeft\"></span><span v-else>‹</span>\n        </span>\n      </button>\n      <div class=\"custom-select\"  @click=\"toggleYearMenu\">\n        {{ selectedYear }}\n        <!-- Выпадающее меню -->\n        <div v-if=\"isYearMenuOpen\" class=\"down-right dropdown\">\n          <div v-for=\"year in years\" :key=\"year\" class=\"option\" @click.stop=\"selectYear(year)\">\n            {{ year }}\n          </div>\n        </div>\n      </div>\n      <button @click=\"nextYear\" class=\"flat-button\">\n          <span v-if=\"isQuasar\">\n            <q-icon v-if=\"iconRight !== false\" :color=\"$q.dark.isActive ? 'white' : 'black'\" :name=\"iconRight\" :size=\"fontSizeIcon+'em'\"/><span v-else>›</span>\n          </span>\n        <span v-else :style=\"'color: '+colorButtonIcon+'; font-size: '+fontSizeIcon+'em'\">\n          <span v-if=\"iconRight !== false\" :class=\"iconRight\"></span><span v-else>›</span></span>\n      </button>\n    </div>\n\n    <!-- Дни недели -->\n    <div class=\"week-days\">\n      <div v-for=\"day in weekDays\" :key=\"day\">{{ day }}</div>\n    </div>\n\n    <!-- Анимированная сетка -->\n    <transition :name=\"transitionName\" mode=\"out-in\">\n      <div :key=\"currentDate.getTime()\" class=\"calendar-wrapper\">\n        <div class=\"calendar-grid\">\n          <div\n              v-for=\"(day, index) in filteredCalendarDays\"\n              :key=\"index\"\n              class=\"calendar-day\"\n              :class=\"{\n              'today': day.isToday,\n              'has-event': day.singleEvent && !day.isPrevMonth && !day.isNextMonth,\n              'has-events': day.multipleEvents && !day.isPrevMonth && !day.isNextMonth,\n              'prev-month': day.isPrevMonth,\n              'next-month': day.isNextMonth\n            }\"\n              :style=\"getDayStyle(day)\"\n              @click=\"selectDate(day)\"\n          >\n            <div class=\"day-number\" :style=\"'font-size: '+(fontSizeDays < 2 ? fontSizeDays : 2)+'em'\">{{ day.date.getDate() }}</div>\n\n            <!-- Одно событие -->\n            <div\n                v-if=\"day.singleEvent && !day.isPrevMonth && !day.isNextMonth\"\n                class=\"single-event\"\n                :title=\"`${day.singleEvent.name}\\n${day.singleEvent.description}`\"\n                :style=\"{ backgroundColor: day.singleEvent.color }\"\n            >\n            </div>\n\n            <!-- Много событий -->\n            <div\n                v-if=\"day.multipleEvents && day.multipleEvents.length > 0 && !day.isPrevMonth && !day.isNextMonth\" class=\"event-indicators\">\n              <!-- Показываем цифру, если событий больше 3 -->\n              <div v-if=\"day.multipleEvents.length > 3\" class=\"event-count\">\n                {{ day.multipleEvents.length }}\n              </div>\n              <!-- Показываем индикаторы только для первых 3 событий -->\n              <div\n                  v-for=\"(event, i) in day.multipleEvents.slice(0, 3)\"\n                  :key=\"i\"\n                  class=\"event-indicator\"\n                  :title=\"`${event.name}\\n${event.description}`\"\n                  :style=\"{ backgroundColor: event.color }\"\n              ></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    events: {\n      type: Array,\n      default: () => []\n    },\n    locale: {\n      type: Object,\n      default: () => ({\n        weekDays: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],\n        monthNames: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n      })\n    },\n    heightCalendar: {\n      type: Boolean,\n      default: false\n    },\n    isQuasar: {\n      default: false,\n    },\n    fontSizeDays:{\n      default: 1\n    },\n    fontSizeIcon:{\n      default: 1.2\n    },\n    iconLeft:{\n      default: false\n    },\n    iconRight:{\n      default: false\n    },\n    yearMin: {\n      default: 3\n    },\n    yearMax: {\n      default: 7,\n    },\n    swipable:{\n      default: true\n    },\n    iconFilter:{\n      default: false\n    },\n    showFilter: {\n      type: Boolean,\n      default: true\n    },\n    colorButtonIcon:{\n      default: '#333'\n    },\n    types: {\n      type: Array,\n      default: () => [\n        { type: 'alert', name: 'Alert', color: '#e54e4e' },\n        { type: 'warning', name: 'Warning', color: '#e5b34e' },\n        { type: 'info', name: 'Info', color: '#4e6fe5' },\n        { type: 'success', name: 'Success', color: '#4ee58b' }\n      ]\n    }\n  },\n  data() {\n    return {\n      currentDate: new Date(),\n      activeFilters: [],\n      swipeStartX: null,\n      transitionName: 'slide-right',\n      years: [],\n      isMonthMenuOpen: false,\n      isYearMenuOpen: false,\n      filterMenu: false,\n    };\n  },\n  computed: {\n    // Все уникальные типы событий\n    uniqueTypes() {\n      const typeMap = new Map();\n\n      this.events.forEach(eventGroup => {\n        if (Array.isArray(eventGroup.events)) {\n          eventGroup.events.forEach(event => {\n            if (event.type && !typeMap.has(event.type)) {\n              const typeDef = this.types.find(t => t.type === event.type);\n              if (typeDef) {\n                typeMap.set(event.type, { type: event.type, name: typeDef.name, color: typeDef.color });\n              } else {\n                // Резервный случай, если тип не найден в `types`\n                typeMap.set(event.type, { type: event.type, name: null, color: '#999' });\n              }\n            }\n          });\n        }\n      });\n\n      return Array.from(typeMap.values());\n    },\n\n    // Фильтруем события по типу\n    filteredEventsByType() {\n      if (!this.activeFilters.length) return this.events;\n\n      return this.events.map(group => ({\n        ...group,\n        events: group.events?.filter(e => this.activeFilters.includes(e.type)) || []\n      })).filter(group => group.events.length > 0);\n    },\n\n    calendarDays() {\n      const year = this.currentYear;\n      const month = this.currentDate.getMonth();\n      const today = new Date(); // ✅ Теперь будем использовать её\n\n      const firstDay = new Date(year, month, 1);\n      const lastDay = new Date(year, month + 1, 0);\n\n      const startDay = (firstDay.getDay() + 6) % 7;\n\n      const days = [];\n\n      // Предыдущий месяц\n      for (let i = 0; i < startDay; i++) {\n        const prevMonth = new Date(year, month, 0);\n        const dayNum = prevMonth.getDate() - startDay + i + 1;\n        days.push({\n          date: new Date(prevMonth.getFullYear(), prevMonth.getMonth(), dayNum),\n          isPrevMonth: true,\n          singleEvent: null,\n          multipleEvents: null\n        });\n      }\n\n      // Текущий месяц\n      for (let i = 1; i <= lastDay.getDate(); i++) {\n        const currentDate = new Date(year, month, i);\n\n        const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(i).padStart(2, '0')}`;\n\n        const eventGroup = this.filteredEventsByType.find(e => e.date === dateStr);\n        const dayEvents = eventGroup?.events || [];\n\n        let singleEvent = null;\n        let multipleEvents = null;\n\n        if (dayEvents.length === 1) {\n          singleEvent = dayEvents[0];\n        } else if (dayEvents.length > 1) {\n          multipleEvents = dayEvents;\n        }\n\n        days.push({\n          date: currentDate,\n          isToday: this.isSameDay(currentDate, today), // ✅ Используется здесь\n          isPrevMonth: false,\n          isNextMonth: false,\n          singleEvent,\n          multipleEvents\n        });\n      }\n\n      // Следующий месяц\n      const remainingDays = 7 - ((days.length) % 7 || 7);\n      for (let i = 1; i <= remainingDays; i++) {\n        days.push({\n          date: new Date(year, month + 1, i),\n          isNextMonth: true,\n          singleEvent: null,\n          multipleEvents: null\n        });\n      }\n\n      return days;\n    },\n\n    // Отфильтрованные дни для отображения\n    filteredCalendarDays() {\n      return this.calendarDays.map(day => {\n        if (!day.date || day.isPrevMonth || day.isNextMonth) {\n          return {\n            ...day,\n            singleEvent: null,\n            multipleEvents: null\n          };\n        }\n\n        const dateStr = this.toDateString(day.date);\n        const eventGroup = this.filteredEventsByType.find(e => e.date === dateStr);\n        const dayEvents = eventGroup?.events || [];\n\n        let singleEvent = null;\n        let multipleEvents = null;\n\n        if (dayEvents.length === 1) {\n          singleEvent = {\n            ...dayEvents[0],\n            color: this.getTypeColor(dayEvents[0].type),\n            icon: this.getIconByType(dayEvents[0].type)\n          };\n        } else if (dayEvents.length > 1) {\n          multipleEvents = dayEvents.map(event => ({\n            ...event,\n            color: this.getTypeColor(event.type)\n          }));\n        }\n\n        return {\n          ...day,\n          singleEvent,\n          multipleEvents\n        };\n      });\n    },\n\n    currentYear() {\n      return this.currentDate.getFullYear();\n    },\n    currentMonth() {\n      return this.currentDate.getMonth();\n    },\n    currentMonthName() {\n      return this.locale.monthNames[this.currentMonth];\n    },\n    weekDays() {\n      return this.locale.weekDays;\n    },\n    monthNames() {\n      return this.locale.monthNames;\n    },\n    selectedMonth: {\n      get() {\n        return this.currentDate.getMonth();\n      },\n      set(month) {\n        const newDate = new Date(this.currentDate);\n        newDate.setMonth(month);\n        this.currentDate = newDate;\n      }\n    },\n    selectedYear: {\n      get() {\n        return this.currentDate.getFullYear();\n      },\n      set(year) {\n        const newDate = new Date(this.currentDate);\n        newDate.setFullYear(year);\n        this.currentDate = newDate;\n      }\n    },\n  },\n  created() {\n    const currentYear = new Date().getFullYear();\n    const startYear = currentYear - this.yearMin;\n    const endYear = currentYear + this.yearMax;\n\n    for (let y = startYear; y <= endYear; y++) {\n      this.years.push(y);\n    }\n  },\n  mounted() {\n    document.addEventListener('click', this.handleClickOutside);\n  },\n  beforeUnmount() {\n    document.removeEventListener('click', this.handleClickOutside);\n  },\n  methods: {\n    getTypeColor(type) {\n      const found = this.types.find(t => t.type === type);\n      return found ? found.color : '#999';\n    },\n    getIconByType(type) {\n      const found = this.types.find(t => t.type === type);\n      return found?.icon || null;\n    },\n    handleClickOutside(e) {\n      const select = e.target.closest('.custom-select');\n      const selectFilter = e.target.closest('.custom-select-filter');\n      if (!select && !selectFilter && this.isMonthMenuOpen) {\n        this.isMonthMenuOpen = false;\n      }\n      if (!select && !selectFilter && this.isYearMenuOpen) {\n        this.isYearMenuOpen = false;\n      }\n\n      if (!selectFilter && !select && this.filterMenu) {\n        this.filterMenu = false;\n      }\n    },\n    toDateString(date) {\n      const d = new Date(date);\n      return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}-${String(d.getDate()).padStart(2, '0')}`;\n    },\n    parseLocalDate(date) {\n      const d = new Date(date);\n      return new Date(d.getFullYear(), d.getMonth(), d.getDate());\n    },\n    isSameDay(date1, date2) {\n      const d1 = new Date(date1);\n      const d2 = new Date(date2);\n      return (\n          d1.getFullYear() === d2.getFullYear() &&\n          d1.getMonth() === d2.getMonth() &&\n          d1.getDate() === d2.getDate()\n      );\n    },\n    getDayStyle(day) {\n      //background-color: #fff; color: #7e57c2; multipleEvents\n      if (day.singleEvent && !day.isPrevMonth && !day.isNextMonth) {\n        return { backgroundColor: day.singleEvent.color, fontSize: (this.fontSizeDays < 2 ? this.fontSizeDays : 2)+'em',\n          color: '#fff', aspectRatio:  this.heightCalendar ? '9/16' : '1/1'};\n      }\n      if (!day.singleEvent && !day.isPrevMonth && !day.isNextMonth && day.multipleEvents !== null) {\n        if(day.multipleEvents.length < 4){\n          return {  aspectRatio:  this.heightCalendar ? '9/16' : '1/1', fontSize: (this.fontSizeDays < 2 ? this.fontSizeDays : 2)+'em', color: this.$q.dark.isActive ? '#fff' : '#7e57c2'};\n        }else{\n          return {  backgroundColor: '#7e57c2', aspectRatio:  this.heightCalendar ? '9/16' : '1/1', fontSize: (this.fontSizeDays < 2 ? this.fontSizeDays : 2)+'em', color: '#fff'};\n        }\n      }\n      if (!day.singleEvent && !day.isPrevMonth && !day.isNextMonth) {\n        return {  aspectRatio:  this.heightCalendar ? '9/16' : '1/1', fontSize: (this.fontSizeDays < 2 ? this.fontSizeDays : 2)+'em', color: this.$q.dark.isActive ? '#fff' : ''};\n      }\n      return {}\n    },\n    selectDate(day) {\n      if (!day.isPrevMonth && !day.isNextMonth) {\n        const dayEvents = [];\n\n        // Если есть одно событие\n        if (day.singleEvent) {\n          dayEvents.push(day.singleEvent);\n        }\n\n        // Если несколько событий\n        if (Array.isArray(day.multipleEvents)) {\n          dayEvents.push(...day.multipleEvents);\n        }\n\n        this.$emit('date-selected', {\n          date: day.date,\n          events: dayEvents.length ? dayEvents : null\n        });\n      }\n    },\n    prevMonth() {\n      this.transitionName = 'slide-right';\n      this.currentDate = new Date(this.currentYear, this.currentMonth - 1);\n    },\n    nextMonth() {\n      this.transitionName = 'slide-left';\n      this.currentDate = new Date(this.currentYear, this.currentMonth + 1);\n    },\n    prevYear() {\n      this.transitionName = 'slide-right';\n      const prevYearDate = new Date(this.currentYear - 1, this.currentMonth, 1);\n      this.currentDate = prevYearDate;\n    },\n    nextYear() {\n      this.transitionName = 'slide-left';\n      const nextYearDate = new Date(this.currentYear + 1, this.currentMonth, 1);\n      this.currentDate = nextYearDate;\n    },\n    touchStart(e) {\n      this.swipeStartX = e.touches[0].clientX;\n    },\n    touchEnd(e) {\n      if (!this.swipeStartX) return;\n\n      const deltaX = e.changedTouches[0].clientX - this.swipeStartX;\n\n      if (Math.abs(deltaX) > 50) {\n        if (deltaX > 0) this.prevMonth();\n        else this.nextMonth();\n      }\n      this.swipeStartX = null;\n    },\n    toggleMonthMenu() {\n      this.isMonthMenuOpen = !this.isMonthMenuOpen;\n      this.isYearMenuOpen = false; // закрываем год, если открыт\n      this.filterMenu = false;\n    },\n    toggleYearMenu() {\n      this.isYearMenuOpen = !this.isYearMenuOpen;\n      this.isMonthMenuOpen = false; // закрываем месяц, если открыт\n      this.filterMenu = false;\n    },\n    toggleFilterMenu(){\n      this.filterMenu = !this.filterMenu;\n      this.isMonthMenuOpen = false;\n      this.isYearMenuOpen = false;\n    },\n    selectMonth(month) {\n      this.selectedMonth = month;\n      this.isMonthMenuOpen = false;\n    },\n    selectYear(year) {\n      this.selectedYear = year;\n      this.isYearMenuOpen = false;\n    },\n  }\n};\n</script>\n<style>\n.calendar-container {\n  width: 100%;\n  max-width: 100%;\n  padding: 20px;\n  #font-family: Arial, sans-serif;\n  box-sizing: border-box;\n}\n\n.calendar-container.full-height {\n  height: 87vh !important;\n  display: flex !important;\n  flex-direction: column !important;\n  justify-content: space-between !important;\n}\n\n.filter-bar {\n  margin-bottom: 12px;\n  display: flex;\n  gap: 12px;\n  align-items: center;\n  font-size: 0.9em;\n}\n\n.calendar-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 12px;\n  font-size: 1.2em;\n  font-weight: bold;\n}\n\n.week-days {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  margin-bottom: 8px;\n  text-align: center;\n}\n\n.day-label {\n  text-align: center;\n  font-weight: bold;\n  color: #555;\n  padding: 8px 0;\n}\n\n.calendar-wrapper {\n  #overflow: hidden;\n}\n\n.calendar-grid {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  gap: 4px;\n  min-height: 250px;\n}\n\n.calendar-day {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  border-radius: 30px;\n  transition: all 0.3s ease;\n  font-size: 0.8em;\n  color: #333;\n}\n\n.calendar-day:hover {\n  background-color: #f0f0f0;\n}\n\n/* Дни предыдущего и следующего месяца */\n.calendar-day.prev-month,\n.calendar-day.next-month {\n  color: #bbb;\n  background-color: transparent !important;\n  border-radius: 30px;\n}\n\n.calendar-day.today {\n  border: 2px dashed #733a87;\n  color: #733a87;\n  font-weight: 700;\n}\n\n.calendar-day.has-event {\n  border-radius: 30px;\n  color: white;\n  font-weight: bold;\n}\n.calendar-day.has-events {\n  border: 2px solid #7e57c2;\n  border-radius: 30px; /* можно оставить квадратным или сделать круговым */\n  font-weight: bold;\n}\n.calendar-day.has-events .day-number {\n  font-weight: bold;\n}\n\n.day-number {\n  position: relative;\n  z-index: 1;\n  font-size: 0.9em;\n}\n\n.event-indicators {\n  position: absolute;\n  bottom: 4px;\n  left: 50%;\n  transform: translateX(-50%);\n  display: flex;\n  gap: 2px;\n  z-index: 2;\n}\n\n.event-indicator {\n  width: 6px;\n  height: 6px;\n  border-radius: 50%;\n  opacity: 0.8;\n}\n\n.single-event {\n  position: absolute;\n  bottom: 4px;\n  left: 50%;\n  transform: translateX(-50%);\n  white-space: nowrap;\n  font-size: 0.6em;\n  padding: 2px 6px;\n  border-radius: 4px;\n  color: #fff;\n  font-weight: bold;\n  z-index: 2;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n.event-count {\n  position: absolute;\n  bottom: -6px;\n  left: 50%;\n  transform: translateX(-50%);\n  background-color: #e54e4e;\n  color: white;\n  font-size: 0.7em;\n  width: 100%;\n  height: 16px;\n  border-radius: 9px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 3;\n}\n.month-select,\n.year-select {\n  appearance: none;\n  background: transparent;\n  border: none;\n  font-size: 1em;\n  font-weight: bold;\n  text-align: center;\n  padding: 4px 8px;\n  border-radius: 4px;\n  cursor: pointer;\n  color: inherit;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n}\n.flat-button {\n  background: none;\n  border: none;\n  font-size: 1.2em;\n  cursor: pointer;\n  padding: 4px 8px;\n  border-radius: 30px;\n  transition: background-color 0.3s;\n}\n\n.flat-button:hover {\n  background-color: #f0f0f0;\n}\n@keyframes slideLeft {\n  from { transform: translateX(0); opacity: 1; }\n  to { transform: translateX(-100%); opacity: 0.5; }\n}\n\n@keyframes slideRight {\n  from { transform: translateX(0); opacity: 1; }\n  to { transform: translateX(100%); opacity: 0.5; }\n}\n\n.slide-left-enter-active {\n  animation: slideLeft 0.3s ease-in-out;\n}\n\n.slide-right-enter-active {\n  animation: slideRight 0.3s ease-in-out;\n}\n\n.custom-select {\n  position: relative;\n  display: inline-block;\n  font-size: 1em;\n  font-weight: bold;\n  min-width: 120px;\n  padding: 6px 6px;\n  border-radius: 8px;\n  cursor: pointer;\n  user-select: none;\n  text-align: center;\n}\n.custom-select-filter{\n  float: right;\n  width: 20vw;\n  height: 48px;\n  position: relative;\n  user-select: none;\n  text-align: center;\n  font-weight: bold;\n  display: inline-block;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 1em;\n}\n.arrow-down {\n  position: absolute;\n  right: 10px;\n  top: 50%;\n  transform: translateY(-50%);\n  width: 0;\n  height: 0;\n  border-left: 6px solid transparent;\n  border-right: 6px solid transparent;\n  border-top: 8px solid #666;\n  pointer-events: none;\n}\n\n.dropdown {\n  color: #333;\n  position: absolute;\n  z-index: 1000;\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);\n  max-height: 600px;\n  overflow-y: auto;\n  min-width: 15vw;\n  top: calc(100% + 4px);\n  animation: fadeIn 0.2s ease-in-out forwards;\n}\n.down-left{\n  left: 0;\n}\n.down-right{\n  right: 0;\n}\n.option {\n  padding: 8px 16px;\n  cursor: pointer;\n}\n\n.option:hover {\n  background-color: #f0f0f0;\n}\n\n/* Анимация появления */\n@keyframes fadeIn {\n  from { opacity: 0; transform: translateY(-4px); }\n  to { opacity: 1; transform: translateY(0); }\n}\n\n@media (max-width: 768px) {\n  .custom-select {\n    min-width: 25vw;\n    font-size: 1em;\n    text-align: center;\n  }\n\n  .dropdown {\n    min-width: 50vw;\n    max-height: 70vh;\n    font-size: 1em;\n  }\n}\n</style>\n","<template>\n  <div class=\"calendar-container\"\n       :class=\"{ 'full-height': heightCalendar }\"\n       @touchstart=\"touchStart\"\n       @touchend=\"touchEnd\">\n    <!-- Фильтр по типу -->\n    <div v-if=\"showFilter\" style=\"width: 90vw; min-height: 40px\">\n      <div class=\"custom-select-filter\">\n        <button @click=\"toggleFilterMenu\" class=\"flat-button\" style=\"float: right; width: 40px; height: 40px\">\n          <span v-if=\"isQuasar\">\n             <q-icon name=\"mdi-filter-outline\" size=\"sm\" :color=\"$q.dark.isActive ? 'white' : 'black'\"/>\n          </span>\n          <span v-else :style=\"'color: '+colorButtonIcon+'; font-size: '+fontSizeIcon+'em'\">\n            <span v-if=\"iconFilter !== false\" :class=\"iconFilter\"></span><span v-else>⁝</span>\n          </span>\n        </button>\n        <div v-if=\"filterMenu\" class=\"down-right dropdown\">\n          <div v-if=\"!isQuasar\">\n            <div v-for=\"typeObj in uniqueTypes\" :key=\"typeObj.type\" class=\"option\">\n              <input type=\"checkbox\" v-model=\"activeFilters\" :value=\"typeObj.type\">\n              <span :style=\"{color: typeObj.color, marginLeft: '8px'}\">{{ typeObj.name }}</span>\n            </div>\n          </div>\n          <q-checkbox v-else class=\"full-width text-center\" :style=\"{color: typeObj.color}\" v-for=\"typeObj in uniqueTypes\" :key=\"typeObj.type\"\n                      :label=\"typeObj.name\" color=\"deep-purple-4\" v-model=\"activeFilters\" :val=\"typeObj.type\"/>\n        </div>\n      </div>\n    </div>\n    <!-- Заголовок -->\n    <div class=\"calendar-header\">\n      <!-- Выбор месяца -->\n      <button @click=\"prevMonth\" class=\"flat-button\">\n        <span v-if=\"isQuasar\">\n          <q-icon v-if=\"iconLeft !== false\" :color=\"$q.dark.isActive ? 'white' : 'black'\" :name=\"iconLeft\" :size=\"fontSizeIcon+'em'\"/><span v-else>‹</span>\n        </span>\n        <span v-else :style=\"'color: '+colorButtonIcon+'; font-size: '+fontSizeIcon+'em'\">\n          <span v-if=\"iconLeft !== false\" :class=\"iconLeft\"></span><span v-else>‹</span>\n        </span>\n      </button>\n      <div class=\"custom-select\" @click=\"toggleMonthMenu\">\n        {{ monthNames[selectedMonth] }}\n        <div v-if=\"isMonthMenuOpen\" class=\"down-left dropdown\">\n          <div v-for=\"(monthName, index) in monthNames\" :key=\"index\" class=\"option\" @click.stop=\"selectMonth(index)\">\n            {{ monthName }}\n          </div>\n        </div>\n      </div>\n      <button @click=\"nextMonth\" class=\"flat-button\">\n          <span v-if=\"isQuasar\">\n            <q-icon v-if=\"iconRight !== false\"  :color=\"$q.dark.isActive ? 'white' : 'black'\" :name=\"iconRight\" :size=\"fontSizeIcon+'em'\"/><span v-else>›</span>\n          </span>\n        <span v-else :style=\"'color: '+colorButtonIcon+'; font-size: '+fontSizeIcon+'em'\">\n            <span v-if=\"iconRight !== false\" :class=\"iconRight\"></span><span v-else>›</span>\n          </span>\n      </button>\n\n      <!-- Выбор года -->\n      <button @click=\"prevYear\" class=\"flat-button\">\n        <span v-if=\"isQuasar\">\n          <q-icon v-if=\"iconLeft !== false\"  :color=\"$q.dark.isActive ? 'white' : 'black'\" :name=\"iconLeft\" :size=\"fontSizeIcon+'em'\"/><span v-else>‹</span>\n        </span>\n        <span v-else :style=\"'color: '+colorButtonIcon+'; font-size: '+fontSizeIcon+'em'\">\n          <span v-if=\"iconLeft !== false\" :class=\"iconLeft\"></span><span v-else>‹</span>\n        </span>\n      </button>\n      <div class=\"custom-select\"  @click=\"toggleYearMenu\">\n        {{ selectedYear }}\n        <!-- Выпадающее меню -->\n        <div v-if=\"isYearMenuOpen\" class=\"down-right dropdown\">\n          <div v-for=\"year in years\" :key=\"year\" class=\"option\" @click.stop=\"selectYear(year)\">\n            {{ year }}\n          </div>\n        </div>\n      </div>\n      <button @click=\"nextYear\" class=\"flat-button\">\n          <span v-if=\"isQuasar\">\n            <q-icon v-if=\"iconRight !== false\" :color=\"$q.dark.isActive ? 'white' : 'black'\" :name=\"iconRight\" :size=\"fontSizeIcon+'em'\"/><span v-else>›</span>\n          </span>\n        <span v-else :style=\"'color: '+colorButtonIcon+'; font-size: '+fontSizeIcon+'em'\">\n          <span v-if=\"iconRight !== false\" :class=\"iconRight\"></span><span v-else>›</span></span>\n      </button>\n    </div>\n\n    <!-- Дни недели -->\n    <div class=\"week-days\">\n      <div v-for=\"day in weekDays\" :key=\"day\">{{ day }}</div>\n    </div>\n\n    <!-- Анимированная сетка -->\n    <transition :name=\"transitionName\" mode=\"out-in\">\n      <div :key=\"currentDate.getTime()\" class=\"calendar-wrapper\">\n        <div class=\"calendar-grid\">\n          <div\n              v-for=\"(day, index) in filteredCalendarDays\"\n              :key=\"index\"\n              class=\"calendar-day\"\n              :class=\"{\n              'today': day.isToday,\n              'has-event': day.singleEvent && !day.isPrevMonth && !day.isNextMonth,\n              'has-events': day.multipleEvents && !day.isPrevMonth && !day.isNextMonth,\n              'prev-month': day.isPrevMonth,\n              'next-month': day.isNextMonth\n            }\"\n              :style=\"getDayStyle(day)\"\n              @click=\"selectDate(day)\"\n          >\n            <div class=\"day-number\" :style=\"'font-size: '+(fontSizeDays < 2 ? fontSizeDays : 2)+'em'\">{{ day.date.getDate() }}</div>\n\n            <!-- Одно событие -->\n            <div\n                v-if=\"day.singleEvent && !day.isPrevMonth && !day.isNextMonth\"\n                class=\"single-event\"\n                :title=\"`${day.singleEvent.name}\\n${day.singleEvent.description}`\"\n                :style=\"{ backgroundColor: day.singleEvent.color }\"\n            >\n            </div>\n\n            <!-- Много событий -->\n            <div\n                v-if=\"day.multipleEvents && day.multipleEvents.length > 0 && !day.isPrevMonth && !day.isNextMonth\" class=\"event-indicators\">\n              <!-- Показываем цифру, если событий больше 3 -->\n              <div v-if=\"day.multipleEvents.length > 3\" class=\"event-count\">\n                {{ day.multipleEvents.length }}\n              </div>\n              <!-- Показываем индикаторы только для первых 3 событий -->\n              <div\n                  v-for=\"(event, i) in day.multipleEvents.slice(0, 3)\"\n                  :key=\"i\"\n                  class=\"event-indicator\"\n                  :title=\"`${event.name}\\n${event.description}`\"\n                  :style=\"{ backgroundColor: event.color }\"\n              ></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    events: {\n      type: Array,\n      default: () => []\n    },\n    locale: {\n      type: Object,\n      default: () => ({\n        weekDays: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],\n        monthNames: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n      })\n    },\n    heightCalendar: {\n      type: Boolean,\n      default: false\n    },\n    isQuasar: {\n      default: false,\n    },\n    fontSizeDays:{\n      default: 1\n    },\n    fontSizeIcon:{\n      default: 1.2\n    },\n    iconLeft:{\n      default: false\n    },\n    iconRight:{\n      default: false\n    },\n    yearMin: {\n      default: 3\n    },\n    yearMax: {\n      default: 7,\n    },\n    swipable:{\n      default: true\n    },\n    iconFilter:{\n      default: false\n    },\n    showFilter: {\n      type: Boolean,\n      default: true\n    },\n    colorButtonIcon:{\n      default: '#333'\n    },\n    types: {\n      type: Array,\n      default: () => [\n        { type: 'alert', name: 'Alert', color: '#e54e4e' },\n        { type: 'warning', name: 'Warning', color: '#e5b34e' },\n        { type: 'info', name: 'Info', color: '#4e6fe5' },\n        { type: 'success', name: 'Success', color: '#4ee58b' }\n      ]\n    }\n  },\n  data() {\n    return {\n      currentDate: new Date(),\n      activeFilters: [],\n      swipeStartX: null,\n      transitionName: 'slide-right',\n      years: [],\n      isMonthMenuOpen: false,\n      isYearMenuOpen: false,\n      filterMenu: false,\n    };\n  },\n  computed: {\n    // Все уникальные типы событий\n    uniqueTypes() {\n      const typeMap = new Map();\n\n      this.events.forEach(eventGroup => {\n        if (Array.isArray(eventGroup.events)) {\n          eventGroup.events.forEach(event => {\n            if (event.type && !typeMap.has(event.type)) {\n              const typeDef = this.types.find(t => t.type === event.type);\n              if (typeDef) {\n                typeMap.set(event.type, { type: event.type, name: typeDef.name, color: typeDef.color });\n              } else {\n                // Резервный случай, если тип не найден в `types`\n                typeMap.set(event.type, { type: event.type, name: null, color: '#999' });\n              }\n            }\n          });\n        }\n      });\n\n      return Array.from(typeMap.values());\n    },\n\n    // Фильтруем события по типу\n    filteredEventsByType() {\n      if (!this.activeFilters.length) return this.events;\n\n      return this.events.map(group => ({\n        ...group,\n        events: group.events?.filter(e => this.activeFilters.includes(e.type)) || []\n      })).filter(group => group.events.length > 0);\n    },\n\n    calendarDays() {\n      const year = this.currentYear;\n      const month = this.currentDate.getMonth();\n      const today = new Date(); // ✅ Теперь будем использовать её\n\n      const firstDay = new Date(year, month, 1);\n      const lastDay = new Date(year, month + 1, 0);\n\n      const startDay = (firstDay.getDay() + 6) % 7;\n\n      const days = [];\n\n      // Предыдущий месяц\n      for (let i = 0; i < startDay; i++) {\n        const prevMonth = new Date(year, month, 0);\n        const dayNum = prevMonth.getDate() - startDay + i + 1;\n        days.push({\n          date: new Date(prevMonth.getFullYear(), prevMonth.getMonth(), dayNum),\n          isPrevMonth: true,\n          singleEvent: null,\n          multipleEvents: null\n        });\n      }\n\n      // Текущий месяц\n      for (let i = 1; i <= lastDay.getDate(); i++) {\n        const currentDate = new Date(year, month, i);\n\n        const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(i).padStart(2, '0')}`;\n\n        const eventGroup = this.filteredEventsByType.find(e => e.date === dateStr);\n        const dayEvents = eventGroup?.events || [];\n\n        let singleEvent = null;\n        let multipleEvents = null;\n\n        if (dayEvents.length === 1) {\n          singleEvent = dayEvents[0];\n        } else if (dayEvents.length > 1) {\n          multipleEvents = dayEvents;\n        }\n\n        days.push({\n          date: currentDate,\n          isToday: this.isSameDay(currentDate, today), // ✅ Используется здесь\n          isPrevMonth: false,\n          isNextMonth: false,\n          singleEvent,\n          multipleEvents\n        });\n      }\n\n      // Следующий месяц\n      const remainingDays = 7 - ((days.length) % 7 || 7);\n      for (let i = 1; i <= remainingDays; i++) {\n        days.push({\n          date: new Date(year, month + 1, i),\n          isNextMonth: true,\n          singleEvent: null,\n          multipleEvents: null\n        });\n      }\n\n      return days;\n    },\n\n    // Отфильтрованные дни для отображения\n    filteredCalendarDays() {\n      return this.calendarDays.map(day => {\n        if (!day.date || day.isPrevMonth || day.isNextMonth) {\n          return {\n            ...day,\n            singleEvent: null,\n            multipleEvents: null\n          };\n        }\n\n        const dateStr = this.toDateString(day.date);\n        const eventGroup = this.filteredEventsByType.find(e => e.date === dateStr);\n        const dayEvents = eventGroup?.events || [];\n\n        let singleEvent = null;\n        let multipleEvents = null;\n\n        if (dayEvents.length === 1) {\n          singleEvent = {\n            ...dayEvents[0],\n            color: this.getTypeColor(dayEvents[0].type),\n            icon: this.getIconByType(dayEvents[0].type)\n          };\n        } else if (dayEvents.length > 1) {\n          multipleEvents = dayEvents.map(event => ({\n            ...event,\n            color: this.getTypeColor(event.type)\n          }));\n        }\n\n        return {\n          ...day,\n          singleEvent,\n          multipleEvents\n        };\n      });\n    },\n\n    currentYear() {\n      return this.currentDate.getFullYear();\n    },\n    currentMonth() {\n      return this.currentDate.getMonth();\n    },\n    currentMonthName() {\n      return this.locale.monthNames[this.currentMonth];\n    },\n    weekDays() {\n      return this.locale.weekDays;\n    },\n    monthNames() {\n      return this.locale.monthNames;\n    },\n    selectedMonth: {\n      get() {\n        return this.currentDate.getMonth();\n      },\n      set(month) {\n        const newDate = new Date(this.currentDate);\n        newDate.setMonth(month);\n        this.currentDate = newDate;\n      }\n    },\n    selectedYear: {\n      get() {\n        return this.currentDate.getFullYear();\n      },\n      set(year) {\n        const newDate = new Date(this.currentDate);\n        newDate.setFullYear(year);\n        this.currentDate = newDate;\n      }\n    },\n  },\n  created() {\n    const currentYear = new Date().getFullYear();\n    const startYear = currentYear - this.yearMin;\n    const endYear = currentYear + this.yearMax;\n\n    for (let y = startYear; y <= endYear; y++) {\n      this.years.push(y);\n    }\n  },\n  mounted() {\n    document.addEventListener('click', this.handleClickOutside);\n  },\n  beforeUnmount() {\n    document.removeEventListener('click', this.handleClickOutside);\n  },\n  methods: {\n    getTypeColor(type) {\n      const found = this.types.find(t => t.type === type);\n      return found ? found.color : '#999';\n    },\n    getIconByType(type) {\n      const found = this.types.find(t => t.type === type);\n      return found?.icon || null;\n    },\n    handleClickOutside(e) {\n      const select = e.target.closest('.custom-select');\n      const selectFilter = e.target.closest('.custom-select-filter');\n      if (!select && !selectFilter && this.isMonthMenuOpen) {\n        this.isMonthMenuOpen = false;\n      }\n      if (!select && !selectFilter && this.isYearMenuOpen) {\n        this.isYearMenuOpen = false;\n      }\n\n      if (!selectFilter && !select && this.filterMenu) {\n        this.filterMenu = false;\n      }\n    },\n    toDateString(date) {\n      const d = new Date(date);\n      return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}-${String(d.getDate()).padStart(2, '0')}`;\n    },\n    parseLocalDate(date) {\n      const d = new Date(date);\n      return new Date(d.getFullYear(), d.getMonth(), d.getDate());\n    },\n    isSameDay(date1, date2) {\n      const d1 = new Date(date1);\n      const d2 = new Date(date2);\n      return (\n          d1.getFullYear() === d2.getFullYear() &&\n          d1.getMonth() === d2.getMonth() &&\n          d1.getDate() === d2.getDate()\n      );\n    },\n    getDayStyle(day) {\n      //background-color: #fff; color: #7e57c2; multipleEvents\n      if (day.singleEvent && !day.isPrevMonth && !day.isNextMonth) {\n        return { backgroundColor: day.singleEvent.color, fontSize: (this.fontSizeDays < 2 ? this.fontSizeDays : 2)+'em',\n          color: '#fff', aspectRatio:  this.heightCalendar ? '9/16' : '1/1'};\n      }\n      if (!day.singleEvent && !day.isPrevMonth && !day.isNextMonth && day.multipleEvents !== null) {\n        if(day.multipleEvents.length < 4){\n          return {  aspectRatio:  this.heightCalendar ? '9/16' : '1/1', fontSize: (this.fontSizeDays < 2 ? this.fontSizeDays : 2)+'em', color: this.$q.dark.isActive ? '#fff' : '#7e57c2'};\n        }else{\n          return {  backgroundColor: '#7e57c2', aspectRatio:  this.heightCalendar ? '9/16' : '1/1', fontSize: (this.fontSizeDays < 2 ? this.fontSizeDays : 2)+'em', color: '#fff'};\n        }\n      }\n      if (!day.singleEvent && !day.isPrevMonth && !day.isNextMonth) {\n        return {  aspectRatio:  this.heightCalendar ? '9/16' : '1/1', fontSize: (this.fontSizeDays < 2 ? this.fontSizeDays : 2)+'em', color: this.$q.dark.isActive ? '#fff' : ''};\n      }\n      return {}\n    },\n    selectDate(day) {\n      if (!day.isPrevMonth && !day.isNextMonth) {\n        const dayEvents = [];\n\n        // Если есть одно событие\n        if (day.singleEvent) {\n          dayEvents.push(day.singleEvent);\n        }\n\n        // Если несколько событий\n        if (Array.isArray(day.multipleEvents)) {\n          dayEvents.push(...day.multipleEvents);\n        }\n\n        this.$emit('date-selected', {\n          date: day.date,\n          events: dayEvents.length ? dayEvents : null\n        });\n      }\n    },\n    prevMonth() {\n      this.transitionName = 'slide-right';\n      this.currentDate = new Date(this.currentYear, this.currentMonth - 1);\n    },\n    nextMonth() {\n      this.transitionName = 'slide-left';\n      this.currentDate = new Date(this.currentYear, this.currentMonth + 1);\n    },\n    prevYear() {\n      this.transitionName = 'slide-right';\n      const prevYearDate = new Date(this.currentYear - 1, this.currentMonth, 1);\n      this.currentDate = prevYearDate;\n    },\n    nextYear() {\n      this.transitionName = 'slide-left';\n      const nextYearDate = new Date(this.currentYear + 1, this.currentMonth, 1);\n      this.currentDate = nextYearDate;\n    },\n    touchStart(e) {\n      this.swipeStartX = e.touches[0].clientX;\n    },\n    touchEnd(e) {\n      if (!this.swipeStartX) return;\n\n      const deltaX = e.changedTouches[0].clientX - this.swipeStartX;\n\n      if (Math.abs(deltaX) > 50) {\n        if (deltaX > 0) this.prevMonth();\n        else this.nextMonth();\n      }\n      this.swipeStartX = null;\n    },\n    toggleMonthMenu() {\n      this.isMonthMenuOpen = !this.isMonthMenuOpen;\n      this.isYearMenuOpen = false; // закрываем год, если открыт\n      this.filterMenu = false;\n    },\n    toggleYearMenu() {\n      this.isYearMenuOpen = !this.isYearMenuOpen;\n      this.isMonthMenuOpen = false; // закрываем месяц, если открыт\n      this.filterMenu = false;\n    },\n    toggleFilterMenu(){\n      this.filterMenu = !this.filterMenu;\n      this.isMonthMenuOpen = false;\n      this.isYearMenuOpen = false;\n    },\n    selectMonth(month) {\n      this.selectedMonth = month;\n      this.isMonthMenuOpen = false;\n    },\n    selectYear(year) {\n      this.selectedYear = year;\n      this.isYearMenuOpen = false;\n    },\n  }\n};\n</script>\n<style>\n.calendar-container {\n  width: 100%;\n  max-width: 100%;\n  padding: 20px;\n  #font-family: Arial, sans-serif;\n  box-sizing: border-box;\n}\n\n.calendar-container.full-height {\n  height: 87vh !important;\n  display: flex !important;\n  flex-direction: column !important;\n  justify-content: space-between !important;\n}\n\n.filter-bar {\n  margin-bottom: 12px;\n  display: flex;\n  gap: 12px;\n  align-items: center;\n  font-size: 0.9em;\n}\n\n.calendar-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 12px;\n  font-size: 1.2em;\n  font-weight: bold;\n}\n\n.week-days {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  margin-bottom: 8px;\n  text-align: center;\n}\n\n.day-label {\n  text-align: center;\n  font-weight: bold;\n  color: #555;\n  padding: 8px 0;\n}\n\n.calendar-wrapper {\n  #overflow: hidden;\n}\n\n.calendar-grid {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  gap: 4px;\n  min-height: 250px;\n}\n\n.calendar-day {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  border-radius: 30px;\n  transition: all 0.3s ease;\n  font-size: 0.8em;\n  color: #333;\n}\n\n.calendar-day:hover {\n  background-color: #f0f0f0;\n}\n\n/* Дни предыдущего и следующего месяца */\n.calendar-day.prev-month,\n.calendar-day.next-month {\n  color: #bbb;\n  background-color: transparent !important;\n  border-radius: 30px;\n}\n\n.calendar-day.today {\n  border: 2px dashed #733a87;\n  color: #733a87;\n  font-weight: 700;\n}\n\n.calendar-day.has-event {\n  border-radius: 30px;\n  color: white;\n  font-weight: bold;\n}\n.calendar-day.has-events {\n  border: 2px solid #7e57c2;\n  border-radius: 30px; /* можно оставить квадратным или сделать круговым */\n  font-weight: bold;\n}\n.calendar-day.has-events .day-number {\n  font-weight: bold;\n}\n\n.day-number {\n  position: relative;\n  z-index: 1;\n  font-size: 0.9em;\n}\n\n.event-indicators {\n  position: absolute;\n  bottom: 4px;\n  left: 50%;\n  transform: translateX(-50%);\n  display: flex;\n  gap: 2px;\n  z-index: 2;\n}\n\n.event-indicator {\n  width: 6px;\n  height: 6px;\n  border-radius: 50%;\n  opacity: 0.8;\n}\n\n.single-event {\n  position: absolute;\n  bottom: 4px;\n  left: 50%;\n  transform: translateX(-50%);\n  white-space: nowrap;\n  font-size: 0.6em;\n  padding: 2px 6px;\n  border-radius: 4px;\n  color: #fff;\n  font-weight: bold;\n  z-index: 2;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n.event-count {\n  position: absolute;\n  bottom: -6px;\n  left: 50%;\n  transform: translateX(-50%);\n  background-color: #e54e4e;\n  color: white;\n  font-size: 0.7em;\n  width: 100%;\n  height: 16px;\n  border-radius: 9px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 3;\n}\n.month-select,\n.year-select {\n  appearance: none;\n  background: transparent;\n  border: none;\n  font-size: 1em;\n  font-weight: bold;\n  text-align: center;\n  padding: 4px 8px;\n  border-radius: 4px;\n  cursor: pointer;\n  color: inherit;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n}\n.flat-button {\n  background: none;\n  border: none;\n  font-size: 1.2em;\n  cursor: pointer;\n  padding: 4px 8px;\n  border-radius: 30px;\n  transition: background-color 0.3s;\n}\n\n.flat-button:hover {\n  background-color: #f0f0f0;\n}\n@keyframes slideLeft {\n  from { transform: translateX(0); opacity: 1; }\n  to { transform: translateX(-100%); opacity: 0.5; }\n}\n\n@keyframes slideRight {\n  from { transform: translateX(0); opacity: 1; }\n  to { transform: translateX(100%); opacity: 0.5; }\n}\n\n.slide-left-enter-active {\n  animation: slideLeft 0.3s ease-in-out;\n}\n\n.slide-right-enter-active {\n  animation: slideRight 0.3s ease-in-out;\n}\n\n.custom-select {\n  position: relative;\n  display: inline-block;\n  font-size: 1em;\n  font-weight: bold;\n  min-width: 120px;\n  padding: 6px 6px;\n  border-radius: 8px;\n  cursor: pointer;\n  user-select: none;\n  text-align: center;\n}\n.custom-select-filter{\n  float: right;\n  width: 20vw;\n  height: 48px;\n  position: relative;\n  user-select: none;\n  text-align: center;\n  font-weight: bold;\n  display: inline-block;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 1em;\n}\n.arrow-down {\n  position: absolute;\n  right: 10px;\n  top: 50%;\n  transform: translateY(-50%);\n  width: 0;\n  height: 0;\n  border-left: 6px solid transparent;\n  border-right: 6px solid transparent;\n  border-top: 8px solid #666;\n  pointer-events: none;\n}\n\n.dropdown {\n  color: #333;\n  position: absolute;\n  z-index: 1000;\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);\n  max-height: 600px;\n  overflow-y: auto;\n  min-width: 15vw;\n  top: calc(100% + 4px);\n  animation: fadeIn 0.2s ease-in-out forwards;\n}\n.down-left{\n  left: 0;\n}\n.down-right{\n  right: 0;\n}\n.option {\n  padding: 8px 16px;\n  cursor: pointer;\n}\n\n.option:hover {\n  background-color: #f0f0f0;\n}\n\n/* Анимация появления */\n@keyframes fadeIn {\n  from { opacity: 0; transform: translateY(-4px); }\n  to { opacity: 1; transform: translateY(0); }\n}\n\n@media (max-width: 768px) {\n  .custom-select {\n    min-width: 25vw;\n    font-size: 1em;\n    text-align: center;\n  }\n\n  .dropdown {\n    min-width: 50vw;\n    max-height: 70vh;\n    font-size: 1em;\n  }\n}\n</style>\n"],"names":["_createElementBlock","_normalizeClass","_createCommentVNode","_openBlock","_createElementVNode","_createVNode","_normalizeStyle","_Fragment","_renderList","_toDisplayString","_createBlock","_withModifiers","_createTextVNode","_Transition"],"mappings":";;AA6IA,aAAe;AACb,EAAA,KAAK,EAAE;AACL,IAAA,MAAM,EAAE;MACN,IAAI,EAAE,KAAK;MACX,OAAO,EAAE,MAAM,EAAC;KACjB;AACD,IAAA,MAAM,EAAE;MACN,IAAI,EAAE,MAAM;MACZ,OAAO,EAAE,OAAO;QACd,QAAQ,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC;QAC3D,UAAU,EAAE,CAAC,SAAS,EAAE,UAAU,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,SAAS,EAAE,UAAU,EAAE,UAAU,CAAA;OACtI,CAAA;KACF;AACD,IAAA,cAAc,EAAE;MACd,IAAI,EAAE,OAAO;MACb,OAAO,EAAE,KAAI;KACd;AACD,IAAA,QAAQ,EAAE;MACR,OAAO,EAAE,KAAK;KACf;IACD,YAAY,CAAC;AACX,MAAA,OAAO,EAAE,CAAA;KACV;IACD,YAAY,CAAC;MACX,OAAO,EAAE,GAAE;KACZ;AACD,IAAA,QAAQ,CAAC;MACP,OAAO,EAAE,KAAI;KACd;IACD,SAAS,CAAC;MACR,OAAO,EAAE,KAAI;KACd;AACD,IAAA,OAAO,EAAE;AACP,MAAA,OAAO,EAAE,CAAA;KACV;AACD,IAAA,OAAO,EAAE;AACP,MAAA,OAAO,EAAE,CAAC;KACX;AACD,IAAA,QAAQ,CAAC;MACP,OAAO,EAAE,IAAG;KACb;IACD,UAAU,CAAC;MACT,OAAO,EAAE,KAAI;KACd;IACD,UAAU,EAAE;MACV,IAAI,EAAE,OAAO;MACb,OAAO,EAAE,IAAG;KACb;AACD,IAAA,eAAe,CAAC;MACd,OAAO,EAAE,MAAK;KACf;AACD,IAAA,KAAK,EAAE;MACL,IAAI,EAAE,KAAK;MACX,OAAO,EAAE,MAAM;AACb,QAAA,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,WAAW;QAClD,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,SAAQ,EAAG;AACtD,QAAA,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,WAAW;QAChD,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,SAAU,EAAA;AACvD,OAAA;AACF,KAAA;GACD;AACD,EAAA,IAAI,GAAG;AACL,IAAA,OAAO;AACL,MAAA,WAAW,EAAE,IAAI,IAAI,EAAE;AACvB,MAAA,aAAa,EAAE,EAAE;AACjB,MAAA,WAAW,EAAE,IAAI;MACjB,cAAc,EAAE,aAAa;AAC7B,MAAA,KAAK,EAAE,EAAE;AACT,MAAA,eAAe,EAAE,KAAK;AACtB,MAAA,cAAc,EAAE,KAAK;AACrB,MAAA,UAAU,EAAE,KAAK;KAClB,CAAA;GACF;AACD,EAAA,QAAQ,EAAE;;IAER,WAAW,GAAG;AACZ,MAAA,MAAM,OAAQ,GAAE,IAAI,GAAG,EAAE,CAAA;;AAEzB,MAAA,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,UAAS,IAAK;AAChC,QAAA,IAAI,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE;AACpC,UAAA,UAAU,CAAC,MAAM,CAAC,OAAO,CAAC,KAAI,IAAK;AACjC,YAAA,IAAI,KAAK,CAAC,IAAK,IAAG,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;cAC1C,MAAM,OAAM,GAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAK,KAAI,KAAK,CAAC,IAAI,CAAC,CAAA;cAC3D,IAAI,OAAO,EAAE;AACX,gBAAA,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,KAAK,CAAC,IAAI,EAAE,IAAI,EAAE,OAAO,CAAC,IAAI,EAAE,KAAK,EAAE,OAAO,CAAC,KAAI,EAAG,CAAC,CAAA;eACvF,MAAK;AACL;AACA,gBAAA,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,KAAK,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,MAAK,EAAG,CAAC,CAAA;AAC1E,eAAA;AACF,aAAA;AACF,WAAC,CAAC,CAAA;AACJ,SAAA;AACF,OAAC,CAAC,CAAA;;AAEF,MAAA,OAAO,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,CAAA;KACpC;;;IAGD,oBAAoB,GAAG;MACrB,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,OAAO,IAAI,CAAC,MAAM,CAAA;;AAElD,MAAA,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,KAAI,KAAM;AAC/B,QAAA,GAAG,KAAK;AACR,QAAA,MAAM,EAAE,KAAK,CAAC,MAAM,EAAE,MAAM,CAAC,CAAE,IAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAE,IAAG,EAAC;AAC7E,OAAC,CAAC,CAAC,CAAC,MAAM,CAAC,KAAM,IAAG,KAAK,CAAC,MAAM,CAAC,MAAO,GAAE,CAAC,CAAC,CAAA;KAC7C;;AAED,IAAA,YAAY,GAAG;MACb,MAAM,IAAG,GAAI,IAAI,CAAC,WAAW,CAAA;AAC7B,MAAA,MAAM,KAAM,GAAE,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAA;MACzC,MAAM,KAAM,GAAE,IAAI,IAAI,EAAE,CAAE;;AAE1B,MAAA,MAAM,QAAS,GAAE,IAAI,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC,CAAA;AACzC,MAAA,MAAM,OAAQ,GAAE,IAAI,IAAI,CAAC,IAAI,EAAE,KAAM,GAAE,CAAC,EAAE,CAAC,CAAC,CAAA;;AAE5C,MAAA,MAAM,QAAO,GAAI,CAAC,QAAQ,CAAC,MAAM,EAAG,GAAE,CAAC,IAAI,CAAC,CAAA;;MAE5C,MAAM,IAAG,GAAI,EAAE,CAAA;;AAEf;MACA,KAAK,IAAI,CAAE,GAAE,CAAC,EAAE,CAAE,GAAE,QAAQ,EAAE,CAAC,EAAE,EAAE;AACjC,QAAA,MAAM,SAAU,GAAE,IAAI,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC,CAAA;AAC1C,QAAA,MAAM,SAAS,SAAS,CAAC,OAAO,KAAK,WAAW,CAAA,GAAI,CAAC,CAAA;QACrD,IAAI,CAAC,IAAI,CAAC;AACR,UAAA,IAAI,EAAE,IAAI,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,EAAE,SAAS,CAAC,QAAQ,EAAE,EAAE,MAAM,CAAC;AACrE,UAAA,WAAW,EAAE,IAAI;AACjB,UAAA,WAAW,EAAE,IAAI;AACjB,UAAA,cAAc,EAAE,IAAG;AACrB,SAAC,CAAC,CAAA;AACJ,OAAA;;;AAGA,MAAA,KAAK,IAAI,CAAA,GAAI,CAAC,EAAE,CAAE,IAAG,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,EAAE,EAAE;AAC3C,QAAA,MAAM,WAAU,GAAI,IAAI,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC,CAAA;;AAE5C,QAAA,MAAM,OAAM,GAAI,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,MAAM,CAAC,KAAM,GAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAA;;AAE7F,QAAA,MAAM,UAAW,GAAE,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAG,KAAM,OAAO,CAAC,CAAA;AAC1E,QAAA,MAAM,SAAU,GAAE,UAAU,EAAE,MAAK,IAAK,EAAE,CAAA;;AAE1C,QAAA,IAAI,WAAU,GAAI,IAAI,CAAA;QACtB,IAAI,cAAa,GAAI,IAAI,CAAA;;QAEzB,IAAI,SAAS,CAAC,WAAW,CAAC,EAAE;UAC1B,WAAY,GAAE,SAAS,CAAC,CAAC,CAAC,CAAA;SAC1B,MAAK,IAAI,SAAS,CAAC,MAAK,GAAI,CAAC,EAAE;UAC/B,cAAe,GAAE,SAAS,CAAA;AAC5B,SAAA;;QAEA,IAAI,CAAC,IAAI,CAAC;AACR,UAAA,IAAI,EAAE,WAAW;UACjB,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,KAAK,CAAC;AAC3C,UAAA,WAAW,EAAE,KAAK;AAClB,UAAA,WAAW,EAAE,KAAK;UAClB,WAAW;UACX,cAAa;AACf,SAAC,CAAC,CAAA;AACJ,OAAA;;AAEA;AACA,MAAA,MAAM,gBAAgB,CAAA,IAAK,CAAC,IAAI,CAAC,MAAM,IAAI,KAAK,CAAC,CAAC,CAAA;AAClD,MAAA,KAAK,IAAI,CAAE,GAAE,CAAC,EAAE,CAAE,IAAG,aAAa,EAAE,CAAC,EAAE,EAAE;QACvC,IAAI,CAAC,IAAI,CAAC;UACR,IAAI,EAAE,IAAI,IAAI,CAAC,IAAI,EAAE,KAAI,GAAI,CAAC,EAAE,CAAC,CAAC;AAClC,UAAA,WAAW,EAAE,IAAI;AACjB,UAAA,WAAW,EAAE,IAAI;AACjB,UAAA,cAAc,EAAE,IAAG;AACrB,SAAC,CAAC,CAAA;AACJ,OAAA;;MAEA,OAAO,IAAI,CAAA;KACZ;;AAED;IACA,oBAAoB,GAAG;AACrB,MAAA,OAAO,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,GAAE,IAAK;QAClC,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,CAAC,WAAU,IAAK,GAAG,CAAC,WAAW,EAAE;AACnD,UAAA,OAAO;AACL,YAAA,GAAG,GAAG;AACN,YAAA,WAAW,EAAE,IAAI;AACjB,YAAA,cAAc,EAAE,IAAG;WACpB,CAAA;AACH,SAAA;;AAEA,QAAA,MAAM,UAAU,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,CAAA;AAC3C,QAAA,MAAM,UAAW,GAAE,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAG,KAAM,OAAO,CAAC,CAAA;AAC1E,QAAA,MAAM,SAAU,GAAE,UAAU,EAAE,MAAK,IAAK,EAAE,CAAA;;AAE1C,QAAA,IAAI,WAAU,GAAI,IAAI,CAAA;QACtB,IAAI,cAAa,GAAI,IAAI,CAAA;;QAEzB,IAAI,SAAS,CAAC,WAAW,CAAC,EAAE;UAC1B,WAAU,GAAI;AACZ,YAAA,GAAG,SAAS,CAAC,CAAC,CAAC;AACf,YAAA,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;AAC3C,YAAA,IAAI,EAAE,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAA;WAC3C,CAAA;SACD,MAAK,IAAI,SAAS,CAAC,MAAK,GAAI,CAAC,EAAE;AAC/B,UAAA,cAAe,GAAE,SAAS,CAAC,GAAG,CAAC,KAAM,KAAI;AACvC,YAAA,GAAG,KAAK;AACR,YAAA,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,CAAA;AACrC,WAAC,CAAC,CAAC,CAAA;AACL,SAAA;;AAEA,QAAA,OAAO;AACL,UAAA,GAAG,GAAG;UACN,WAAW;UACX,cAAa;SACd,CAAA;AACH,OAAC,CAAC,CAAA;KACH;;IAED,WAAW,GAAG;AACZ,MAAA,OAAO,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAA;KACtC;AACD,IAAA,YAAY,GAAG;AACb,MAAA,OAAO,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAA;KACnC;AACD,IAAA,gBAAgB,GAAG;MACjB,OAAO,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,CAAA;KACjD;IACD,QAAQ,GAAG;MACT,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAA;KAC5B;IACD,UAAU,GAAG;MACX,OAAO,IAAI,CAAC,MAAM,CAAC,UAAU,CAAA;KAC9B;AACD,IAAA,aAAa,EAAE;MACb,GAAG,GAAG;AACJ,QAAA,OAAO,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAA;OACnC;MACD,GAAG,CAAC,KAAK,EAAE;AACT,QAAA,MAAM,UAAU,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAA;QAC1C,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAA;QACvB,IAAI,CAAC,cAAc,OAAO,CAAA;AAC5B,OAAA;KACD;IACD,YAAY,EAAE;MACZ,GAAG,GAAG;AACJ,QAAA,OAAO,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAA;OACtC;AACD,MAAA,GAAG,CAAC,IAAI,EAAE;AACR,QAAA,MAAM,UAAU,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAA;QAC1C,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,CAAA;QACzB,IAAI,CAAC,cAAc,OAAO,CAAA;AAC5B,OAAA;KACD;GACF;AACD,EAAA,OAAO,GAAG;AACR,IAAA,MAAM,WAAY,GAAE,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,CAAA;AAC5C,IAAA,MAAM,SAAQ,GAAI,WAAU,GAAI,IAAI,CAAC,OAAO,CAAA;AAC5C,IAAA,MAAM,OAAQ,GAAE,WAAY,GAAE,IAAI,CAAC,OAAO,CAAA;;AAE1C,IAAA,KAAK,IAAI,CAAA,GAAI,SAAS,EAAE,CAAE,IAAG,OAAO,EAAE,CAAC,EAAE,EAAE;AACzC,MAAA,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;AACpB,KAAA;GACD;AACD,EAAA,OAAO,GAAG;IACR,QAAQ,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAA;GAC5D;AACD,EAAA,aAAa,GAAG;IACd,QAAQ,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAA;GAC/D;AACD,EAAA,OAAO,EAAE;AACP,IAAA,YAAY,CAAC,IAAI,EAAE;AACjB,MAAA,MAAM,KAAI,GAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAG,KAAM,IAAI,CAAC,CAAA;AACnD,MAAA,OAAO,KAAI,GAAI,KAAK,CAAC,KAAI,GAAI,MAAM,CAAA;KACpC;AACD,IAAA,aAAa,CAAC,IAAI,EAAE;AAClB,MAAA,MAAM,KAAI,GAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAG,KAAM,IAAI,CAAC,CAAA;MACnD,OAAO,KAAK,EAAE,IAAG,IAAK,IAAI,CAAA;KAC3B;AACD,IAAA,kBAAkB,CAAC,CAAC,EAAE;MACpB,MAAM,MAAK,GAAI,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAA;MACjD,MAAM,YAAW,GAAI,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,uBAAuB,CAAC,CAAA;MAC9D,IAAI,CAAC,MAAO,IAAG,CAAC,gBAAgB,IAAI,CAAC,eAAe,EAAE;QACpD,IAAI,CAAC,eAAc,GAAI,KAAK,CAAA;AAC9B,OAAA;MACA,IAAI,CAAC,MAAO,IAAG,CAAC,YAAa,IAAG,IAAI,CAAC,cAAc,EAAE;QACnD,IAAI,CAAC,cAAa,GAAI,KAAK,CAAA;AAC7B,OAAA;;AAEA,MAAA,IAAI,CAAC,gBAAgB,CAAC,MAAO,IAAG,IAAI,CAAC,UAAU,EAAE;AAC/C,QAAA,IAAI,CAAC,UAAW,GAAE,KAAK,CAAA;AACzB,OAAA;KACD;AACD,IAAA,YAAY,CAAC,IAAI,EAAE;AACjB,MAAA,MAAM,CAAE,GAAE,IAAI,IAAI,CAAC,IAAI,CAAC,CAAA;MACxB,OAAO,CAAC,EAAE,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,QAAQ,KAAK,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAA;KACjH;AACD,IAAA,cAAc,CAAC,IAAI,EAAE;AACnB,MAAA,MAAM,CAAE,GAAE,IAAI,IAAI,CAAC,IAAI,CAAC,CAAA;MACxB,OAAO,IAAI,IAAI,CAAC,CAAC,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,CAAA;KAC5D;IACD,SAAS,CAAC,KAAK,EAAE,KAAK,EAAE;MACtB,MAAM,EAAG,GAAE,IAAI,IAAI,CAAC,KAAK,CAAC,CAAA;MAC1B,MAAM,EAAG,GAAE,IAAI,IAAI,CAAC,KAAK,CAAC,CAAA;AAC1B,MAAA;AACI,UAAA,EAAE,CAAC,WAAW,OAAO,EAAE,CAAC,WAAW;AACnC,UAAA,EAAE,CAAC,QAAQ,EAAC,KAAM,EAAE,CAAC,QAAQ,EAAC;UAC9B,EAAE,CAAC,OAAO,EAAG,KAAI,EAAE,CAAC,OAAO,EAAC;QAC/B;KACF;AACD,IAAA,WAAW,CAAC,GAAG,EAAE;;MAEf,IAAI,GAAG,CAAC,WAAU,IAAK,CAAC,GAAG,CAAC,WAAY,IAAG,CAAC,GAAG,CAAC,WAAW,EAAE;QAC3D,OAAO,EAAE,eAAe,EAAE,GAAG,CAAC,WAAW,CAAC,KAAK,EAAE,QAAQ,EAAE,CAAC,IAAI,CAAC,YAAa,GAAE,CAAE,GAAE,IAAI,CAAC,eAAe,CAAC,EAAE,IAAI;UAC7G,KAAK,EAAE,MAAM,EAAE,WAAW,GAAG,IAAI,CAAC,cAAa,GAAI,MAAK,GAAI,KAAK,CAAC,CAAA;AACtE,OAAA;AACA,MAAA,IAAI,CAAC,GAAG,CAAC,WAAY,IAAG,CAAC,GAAG,CAAC,WAAY,IAAG,CAAC,GAAG,CAAC,WAAY,IAAG,GAAG,CAAC,cAAa,KAAM,IAAI,EAAE;AAC3F,QAAA,GAAG,GAAG,CAAC,cAAc,CAAC,MAAO,GAAE,CAAC,CAAC;AAC/B,UAAA,OAAO,GAAG,WAAW,GAAG,IAAI,CAAC,cAAe,GAAE,MAAO,GAAE,KAAK,EAAE,QAAQ,EAAE,CAAC,IAAI,CAAC,YAAa,GAAE,CAAE,GAAE,IAAI,CAAC,YAAa,GAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,QAAS,GAAE,SAAS,SAAS,CAAC,CAAA;SACjL,KAAI;AACH,UAAA,OAAO,GAAG,eAAe,EAAE,SAAS,EAAE,WAAW,GAAG,IAAI,CAAC,cAAe,GAAE,SAAS,KAAK,EAAE,QAAQ,EAAE,CAAC,IAAI,CAAC,YAAW,GAAI,CAAA,GAAI,IAAI,CAAC,YAAa,GAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,MAAM,CAAC,CAAA;AAC1K,SAAA;AACF,OAAA;MACA,IAAI,CAAC,GAAG,CAAC,WAAY,IAAG,CAAC,GAAG,CAAC,WAAY,IAAG,CAAC,GAAG,CAAC,WAAW,EAAE;AAC5D,QAAA,OAAO,GAAG,WAAW,GAAG,IAAI,CAAC,cAAa,GAAI,MAAK,GAAI,KAAK,EAAE,QAAQ,EAAE,CAAC,IAAI,CAAC,YAAW,GAAI,CAAE,GAAE,IAAI,CAAC,YAAa,GAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,MAAK,GAAI,EAAE,CAAC,CAAA;AAC3K,OAAA;AACA,MAAA,OAAO,EAAC;KACT;AACD,IAAA,UAAU,CAAC,GAAG,EAAE;AACd,MAAA,IAAI,CAAC,GAAG,CAAC,WAAU,IAAK,CAAC,GAAG,CAAC,WAAW,EAAE;AACxC,QAAA,MAAM,SAAU,GAAE,EAAE,CAAA;;AAEpB;AACA,QAAA,IAAI,GAAG,CAAC,WAAW,EAAE;AACnB,UAAA,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAA;AACjC,SAAA;;AAEA;AACA,QAAA,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,EAAE;AACrC,UAAA,SAAS,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,cAAc,CAAC,CAAA;AACvC,SAAA;;QAEA,IAAI,CAAC,KAAK,CAAC,eAAe,EAAE;UAC1B,IAAI,EAAE,GAAG,CAAC,IAAI;AACd,UAAA,MAAM,EAAE,SAAS,CAAC,MAAK,GAAI,SAAQ,GAAI,IAAG;AAC5C,SAAC,CAAC,CAAA;AACJ,OAAA;KACD;IACD,SAAS,GAAG;AACV,MAAA,IAAI,CAAC,cAAe,GAAE,aAAa,CAAA;AACnC,MAAA,IAAI,CAAC,WAAY,GAAE,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,YAAW,GAAI,CAAC,CAAC,CAAA;KACrE;IACD,SAAS,GAAG;AACV,MAAA,IAAI,CAAC,cAAe,GAAE,YAAY,CAAA;AAClC,MAAA,IAAI,CAAC,WAAY,GAAE,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,YAAW,GAAI,CAAC,CAAC,CAAA;KACrE;IACD,QAAQ,GAAG;AACT,MAAA,IAAI,CAAC,cAAe,GAAE,aAAa,CAAA;AACnC,MAAA,MAAM,YAAW,GAAI,IAAI,IAAI,CAAC,IAAI,CAAC,WAAU,GAAI,CAAC,EAAE,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAA;MACzE,IAAI,CAAC,WAAU,GAAI,YAAY,CAAA;KAChC;IACD,QAAQ,GAAG;AACT,MAAA,IAAI,CAAC,cAAe,GAAE,YAAY,CAAA;AAClC,MAAA,MAAM,YAAW,GAAI,IAAI,IAAI,CAAC,IAAI,CAAC,WAAU,GAAI,CAAC,EAAE,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAA;MACzE,IAAI,CAAC,WAAU,GAAI,YAAY,CAAA;KAChC;IACD,UAAU,CAAC,CAAC,EAAE;AACZ,MAAA,IAAI,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAA;KACxC;IACD,QAAQ,CAAC,CAAC,EAAE;MACV,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,OAAM;;MAE7B,MAAM,MAAK,GAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,OAAQ,GAAE,IAAI,CAAC,WAAW,CAAA;;MAE7D,IAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAE,GAAE,EAAE,EAAE;QACzB,IAAI,MAAO,GAAE,CAAC,EAAE,IAAI,CAAC,SAAS,EAAE,CAAA;AAChC,aAAK,IAAI,CAAC,SAAS,EAAE,CAAA;AACvB,OAAA;AACA,MAAA,IAAI,CAAC,WAAU,GAAI,IAAI,CAAA;KACxB;AACD,IAAA,eAAe,GAAG;AAChB,MAAA,IAAI,CAAC,eAAgB,GAAE,CAAC,IAAI,CAAC,eAAe,CAAA;MAC5C,IAAI,CAAC,iBAAiB,KAAK;AAC3B,MAAA,IAAI,CAAC,UAAW,GAAE,KAAK,CAAA;KACxB;AACD,IAAA,cAAc,GAAG;AACf,MAAA,IAAI,CAAC,cAAe,GAAE,CAAC,IAAI,CAAC,cAAc,CAAA;MAC1C,IAAI,CAAC,kBAAkB,KAAK;AAC5B,MAAA,IAAI,CAAC,UAAW,GAAE,KAAK,CAAA;KACxB;AACD,IAAA,gBAAgB,EAAE;AAChB,MAAA,IAAI,CAAC,UAAW,GAAE,CAAC,IAAI,CAAC,UAAU,CAAA;MAClC,IAAI,CAAC,eAAc,GAAI,KAAK,CAAA;MAC5B,IAAI,CAAC,cAAa,GAAI,KAAK,CAAA;KAC5B;AACD,IAAA,WAAW,CAAC,KAAK,EAAE;MACjB,IAAI,CAAC,aAAY,GAAI,KAAK,CAAA;MAC1B,IAAI,CAAC,eAAc,GAAI,KAAK,CAAA;KAC7B;AACD,IAAA,UAAU,CAAC,IAAI,EAAE;MACf,IAAI,CAAC,YAAW,GAAI,IAAI,CAAA;MACxB,IAAI,CAAC,cAAa,GAAI,KAAK,CAAA;KAC5B;AACH,GAAA;AACF,CAAC;;;;ACphB0B,EAAA,KAAqC,EAArC,CAAqC,OAAA,CAAA,MAAA,CAAA,YAAA,CAAA,MAAA,CAAA;;AACrD,MAAA,UAAA,GAAA,EAAA,KAAK,EAAC,sBAAsB,GAAA;;;;;AASR,EAAA,KAAK,EAAC,qBAAqB;;;;AAajD,MAAA,UAAA,GAAA,EAAA,KAAK,EAAC,iBAAiB,GAAA;;;;;;AAYI,EAAA,KAAK,EAAC,oBAAoB;;;;;;;;;;;AA2B3B,EAAA,KAAK,EAAC,qBAAqB;;;;;;AAgBrD,MAAA,WAAA,GAAA,EAAA,KAAK,EAAC,WAAW,GAAA;AAOb,MAAA,WAAA,GAAA,EAAA,KAAK,EAAC,eAAe,GAAA;;;;;AA4BiF,EAAA,KAAK,EAAC,kBAAkB;;;;AAEnF,EAAA,KAAK,EAAC,aAAa;;;;;;;;uBAxHzEA,kBAwIK,CAAA,KAAA,EAAA;IAxIA,KAAK,EAAAC,cAAA,CAAA,CAAC,oBAAmB,EAAA,EAAA,aAAA,EACA;AACxB,IAAA,YAAU,0CAAE,QAAU,CAAA,UAAA,IAAA,QAAA,CAAA,UAAA,CAAA,GAAA,IAAA,CAAA,CAAA,CAAA;AACtB,IAAA,UAAQ,4CAAE,QAAQ,CAAA,QAAA,IAAA,QAAA,CAAA,QAAA,CAAA,GAAA,IAAA,CAAA,CAAA,CAAA;;IACtBC,kBAAsB,CAAA,kBAAA,CAAA;KACX,MAAU,CAAA,UAAA;AAArB,SAAAC,SAAA,EAAA,EAAAH,kBAAA,CAqBK,OArBL,UAqBK,EAAA;AApBH,UAAAI,kBAAA,CAmBK,OAnBL,UAmBK,EAAA;YAlBHA,kBAOQ,CAAA,QAAA,EAAA;AAPC,cAAA,OAAK,0CAAE,QAAgB,CAAA,gBAAA,IAAA,QAAA,CAAA,gBAAA,CAAA,GAAA,IAAA,CAAA,CAAA,CAAA;AAAE,cAAA,KAAK,EAAC,aAAc;AAAA,cAAA,KAA+C,EAA/C,CAA+C,OAAA,CAAA,OAAA,CAAA,OAAA,CAAA,MAAA,CAAA,QAAA,CAAA,MAAA,CAAA;;eACvF,MAAQ,CAAA,QAAA;gCAApBJ,kBAEM,CAAA,MAAA,EAAA,UAAA,EAAA;oBADHK,WAA0F,CAAA,iBAAA,EAAA;AAAlF,sBAAA,IAAI,EAAC,oBAAmB;AAAE,sBAAA,IAAI,EAAC,IAAG;AAAG,sBAAA,KAAK,EAAE,IAAA,CAAA,EAAE,CAAC,IAAI,CAAC;;;gCAE/DL,kBAEM,CAAA,MAAA,EAAA;;oBAFQ,KAAK,EAAAM,cAAA,CAAA,SAAA,CAAY,MAAe,CAAA,eAAA,CAAA,eAAA,CAAiB,MAAY,CAAA,YAAA,CAAA,IAAA,CAAA;;qBAC7D;sCAAZN,kBAA6D,CAAA,MAAA,EAAA;;AAA1B,0BAAA,KAAK,iBAAE,MAAU,CAAA,UAAA,CAAA;;AAAS,yBAAAG,SAAA,EAAA,EAAAH,kBAAA,CAAoB,oBAAP,GAAC,CAAA,CAAA;;;aAGpE,KAAU,CAAA,UAAA;AAArB,iBAAAG,SAAA,EAAA,EAAAH,kBAAA,CASK,OATL,UASK,EAAA;oBARS,MAAQ,CAAA,QAAA;oCAApBA,kBAKK,CAAA,KAAA,EAAA,UAAA,EAAA;0CAJHA,kBAGK,CAAAO,QAAA,EAAA,IAAA,EAAAC,UAAA,CAHkB,QAAW,CAAA,WAAA,EAAA,CAAtB,OAAQ,KAAA;+CAApBR,kBAGK,CAAA,KAAA,EAAA;4BAHgC,GAAG,EAAE,OAAO,CAAC,IAAI;AAAE,4BAAA,KAAK,EAAC,QAAQ;;2CACpEI,kBAAoE,CAAA,OAAA,EAAA;AAA7D,8BAAA,IAAI,EAAC,UAAS;2FAAW,KAAa,CAAA,aAAA,IAAA,MAAA,CAAA,CAAA;8BAAG,KAAK,EAAE,OAAO,CAAC,IAAI;;+CAAnC,KAAa,CAAA,aAAA,CAAA;;4BAC7CA,kBAAiF,CAAA,MAAA,EAAA;8BAA1E,KAAK,EAAAE,cAAA,CAAA,CAAA,KAAA,EAAU,OAAO,CAAC,KAAK,EAAA,UAAA,EAAA,KAAA,CAAA,CAAA;AAAyB,6BAAA,EAAAG,eAAA,CAAA,OAAO,CAAC,IAAK,CAAA,EAAA,CAAA,mBAAA;;;;wCAG7ET,kBACoG,CAAAO,QAAA,EAAA,EAAA,GAAA,EAAA,CAAA,EAAA,EAAAC,UAAA,CADA,QAAW,CAAA,WAAA,EAAA,CAAtB,OAAM,KAAA;6CAA/FE,WACoG,CAAA,qBAAA,EAAA;AADjF,0BAAA,KAAK,EAAC,wBAAyB;0BAAC,KAAK,EAAAJ,cAAA,CAAA,CAAA,KAAA,EAAU,OAAO,CAAC,KAAK,CAAA,CAAA;0BAAmC,GAAG,EAAE,OAAO,CAAC,IAAI;0BACtH,KAAK,EAAE,OAAO,CAAC,IAAI;AAAE,0BAAA,KAAK,EAAC,eAAc;sCAAW,KAAa,CAAA,aAAA;uFAAb,KAAa,CAAA,aAAA,IAAA,MAAA,CAAA,CAAA;0BAAG,GAAG,EAAE,OAAO,CAAC,IAAI;;;;;;;;IAIxGJ,kBAAiB,CAAA,aAAA,CAAA;AACjB,IAAAE,kBAAA,CAoDK,OApDL,UAoDK,EAAA;MAnDHF,kBAAoB,CAAA,gBAAA,CAAA;MACpBE,kBAOQ,CAAA,QAAA,EAAA;AAPC,QAAA,OAAK,0CAAE,QAAS,CAAA,SAAA,IAAA,QAAA,CAAA,SAAA,CAAA,GAAA,IAAA,CAAA,CAAA,CAAA;AAAE,QAAA,KAAK,EAAC,aAAa;;SAChC,MAAQ,CAAA,QAAA;0BAApBJ,kBAEM,CAAA,MAAA,EAAA,UAAA,EAAA;eADU,MAAO,CAAA,QAAA,KAAA,KAAA;gCAArBU,WAA4H,CAAA,iBAAA,EAAA;;AAAzF,oBAAA,KAAK,EAAE,IAAA,CAAA,EAAE,CAAC,IAAI,CAAC,QAAS,GAAA,OAAA,GAAA,OAAA;AAAsB,oBAAA,IAAI,EAAE,MAAQ,CAAA,QAAA;AAAG,oBAAA,IAAI,EAAE,MAAY,CAAA,YAAA,CAAA,IAAA;;AAAQ,mBAAAP,SAAA,EAAA,EAAAH,kBAAA,CAAoB,qBAAP,GAAC,CAAA,CAAA;;0BAE5IA,kBAEM,CAAA,MAAA,EAAA;;cAFQ,KAAK,EAAAM,cAAA,CAAA,SAAA,CAAY,MAAe,CAAA,eAAA,CAAA,eAAA,CAAiB,MAAY,CAAA,YAAA,CAAA,IAAA,CAAA;;eAC7D,MAAO,CAAA,QAAA,KAAA,KAAA;gCAAnBN,kBAAyD,CAAA,MAAA,EAAA;;AAAxB,oBAAA,KAAK,iBAAE,MAAQ,CAAA,QAAA,CAAA;;AAAS,mBAAAG,SAAA,EAAA,EAAAH,kBAAA,CAAoB,qBAAP,GAAC,CAAA,CAAA;;;MAG3EI,kBAOK,CAAA,KAAA,EAAA;AAPA,QAAA,KAAK,EAAC;AAAiB,QAAA,OAAK,0CAAE,QAAe,CAAA,eAAA,IAAA,QAAA,CAAA,eAAA,CAAA,GAAA,IAAA,CAAA,CAAA,CAAA;;wCAC7C,QAAU,CAAA,UAAA,CAAC,QAAa,CAAA,aAAA,CAAA,CAAA,GAAG,GAC9B,EAAA,CAAA,YAAA;SAAW,KAAe,CAAA,eAAA;AAA1B,aAAAD,SAAA,EAAA,EAAAH,kBAAA,CAIK,OAJL,WAIK,EAAA;AAHH,eAAAG,SAAA,CAAA,IAAA,CAAA,EAAAH,kBAAA,CAEKO,QAF6B,EAAA,IAAA,EAAAC,UAAA,CAAA,QAAA,CAAA,UAAU,EAA/B,CAAA,SAAS,EAAE,KAAK,KAAA;qCAA7BR,kBAEK,CAAA,KAAA,EAAA;AAF0C,kBAAA,GAAG,EAAE,KAAK;AAAE,kBAAA,KAAK,EAAC,QAAO;kBAAG,OAAK,EAAAW,aAAA,CAAA,MAAA,KAAO,QAAW,CAAA,WAAA,CAAC,KAAK,CAAA,CAAA,EAAA,CAAA,MAAA,CAAA,CAAA;mCACnG,SAAQ,CAAA,EAAA,CAAA,oBAAA,WAAA,CAAA,CAAA;;;;;MAIjBP,kBAOQ,CAAA,QAAA,EAAA;AAPC,QAAA,OAAK,0CAAE,QAAS,CAAA,SAAA,IAAA,QAAA,CAAA,SAAA,CAAA,GAAA,IAAA,CAAA,CAAA,CAAA;AAAE,QAAA,KAAK,EAAC,aAAa;;SAC9B,MAAQ,CAAA,QAAA;0BAApBJ,kBAEM,CAAA,MAAA,EAAA,WAAA,EAAA;eADU,MAAQ,CAAA,SAAA,KAAA,KAAA;gCAAtBU,WAA+H,CAAA,iBAAA,EAAA;;AAA1F,oBAAA,KAAK,EAAE,IAAA,CAAA,EAAE,CAAC,IAAI,CAAC,QAAS,GAAA,OAAA,GAAA,OAAA;AAAsB,oBAAA,IAAI,EAAE,MAAS,CAAA,SAAA;AAAG,oBAAA,IAAI,EAAE,MAAY,CAAA,YAAA,CAAA,IAAA;;AAAQ,mBAAAP,SAAA,EAAA,EAAAH,kBAAA,CAAoB,qBAAP,GAAC,CAAA,CAAA;;0BAEjJA,kBAEQ,CAAA,MAAA,EAAA;;cAFM,KAAK,EAAAM,cAAA,CAAA,SAAA,CAAY,MAAe,CAAA,eAAA,CAAA,eAAA,CAAiB,MAAY,CAAA,YAAA,CAAA,IAAA,CAAA;;eAC3D,MAAQ,CAAA,SAAA,KAAA,KAAA;gCAApBN,kBAA2D,CAAA,MAAA,EAAA;;AAAzB,oBAAA,KAAK,iBAAE,MAAS,CAAA,SAAA,CAAA;;AAAS,mBAAAG,SAAA,EAAA,EAAAH,kBAAA,CAAoB,qBAAP,GAAC,CAAA,CAAA;;;MAI/EE,kBAAkB,CAAA,cAAA,CAAA;MAClBE,kBAOQ,CAAA,QAAA,EAAA;AAPC,QAAA,OAAK,0CAAE,QAAQ,CAAA,QAAA,IAAA,QAAA,CAAA,QAAA,CAAA,GAAA,IAAA,CAAA,CAAA,CAAA;AAAE,QAAA,KAAK,EAAC,aAAa;;SAC/B,MAAQ,CAAA,QAAA;0BAApBJ,kBAEM,CAAA,MAAA,EAAA,WAAA,EAAA;eADU,MAAO,CAAA,QAAA,KAAA,KAAA;gCAArBU,WAA6H,CAAA,iBAAA,EAAA;;AAAzF,oBAAA,KAAK,EAAE,IAAA,CAAA,EAAE,CAAC,IAAI,CAAC,QAAS,GAAA,OAAA,GAAA,OAAA;AAAsB,oBAAA,IAAI,EAAE,MAAQ,CAAA,QAAA;AAAG,oBAAA,IAAI,EAAE,MAAY,CAAA,YAAA,CAAA,IAAA;;AAAQ,mBAAAP,SAAA,EAAA,EAAAH,kBAAA,CAAoB,qBAAP,GAAC,CAAA,CAAA;;0BAE7IA,kBAEM,CAAA,MAAA,EAAA;;cAFQ,KAAK,EAAAM,cAAA,CAAA,SAAA,CAAY,MAAe,CAAA,eAAA,CAAA,eAAA,CAAiB,MAAY,CAAA,YAAA,CAAA,IAAA,CAAA;;eAC7D,MAAO,CAAA,QAAA,KAAA,KAAA;gCAAnBN,kBAAyD,CAAA,MAAA,EAAA;;AAAxB,oBAAA,KAAK,iBAAE,MAAQ,CAAA,QAAA,CAAA;;AAAS,mBAAAG,SAAA,EAAA,EAAAH,kBAAA,CAAoB,qBAAP,GAAC,CAAA,CAAA;;;MAG3EI,kBAQK,CAAA,KAAA,EAAA;AARA,QAAA,KAAK,EAAC;AAAkB,QAAA,OAAK,0CAAE,QAAc,CAAA,cAAA,IAAA,QAAA,CAAA,cAAA,CAAA,GAAA,IAAA,CAAA,CAAA,CAAA;;AAC7C,QAAAQ,eAAA,CAAAH,eAAA,CAAA,QAAA,CAAA,gBAAc,GACjB,EAAA,CAAA,YAAA;QAAAP,kBAAuB,CAAA,mBAAA,CAAA;SACZ,KAAc,CAAA,cAAA;AAAzB,aAAAC,SAAA,EAAA,EAAAH,kBAAA,CAIK,OAJL,WAIK,EAAA;gCAHHA,kBAEK,CAAAO,QAAA,EAAA,IAAA,EAAAC,UAAA,CAFe,KAAK,CAAA,KAAA,EAAA,CAAb,IAAK,KAAA;qCAAjBR,kBAEK,CAAA,KAAA,EAAA;AAFuB,kBAAA,GAAG,EAAE,IAAI;AAAE,kBAAA,KAAK,EAAC,QAAS;kBAAC,OAAK,EAAAW,aAAA,CAAA,MAAA,KAAO,QAAU,CAAA,UAAA,CAAC,IAAI,CAAA,CAAA,EAAA,CAAA,MAAA,CAAA,CAAA;mCAC7E;;;;;MAITP,kBAMQ,CAAA,QAAA,EAAA;AANC,QAAA,OAAK,0CAAE,QAAQ,CAAA,QAAA,IAAA,QAAA,CAAA,QAAA,CAAA,GAAA,IAAA,CAAA,CAAA,CAAA;AAAE,QAAA,KAAK,EAAC,aAAa;;SAC7B,MAAQ,CAAA,QAAA;0BAApBJ,kBAEM,CAAA,MAAA,EAAA,WAAA,EAAA;eADU,MAAQ,CAAA,SAAA,KAAA,KAAA;gCAAtBU,WAA8H,CAAA,iBAAA,EAAA;;AAA1F,oBAAA,KAAK,EAAE,IAAA,CAAA,EAAE,CAAC,IAAI,CAAC,QAAS,GAAA,OAAA,GAAA,OAAA;AAAsB,oBAAA,IAAI,EAAE,MAAS,CAAA,SAAA;AAAG,oBAAA,IAAI,EAAE,MAAY,CAAA,YAAA,CAAA,IAAA;;AAAQ,mBAAAP,SAAA,EAAA,EAAAH,kBAAA,CAAoB,qBAAP,GAAC,CAAA,CAAA;;0BAEhJA,kBACwF,CAAA,MAAA,EAAA;;cAD1E,KAAK,EAAAM,cAAA,CAAA,SAAA,CAAY,MAAe,CAAA,eAAA,CAAA,eAAA,CAAiB,MAAY,CAAA,YAAA,CAAA,IAAA,CAAA;;eAC7D,MAAU,CAAA,SAAA,KAAA,KAAA;gCAAtBN,kBAA2D,CAAA,MAAA,EAAA;;AAAzB,oBAAA,KAAK,iBAAE,MAAS,CAAA,SAAA,CAAA;;AAAS,mBAAAG,SAAA,EAAA,EAAAH,kBAAA,CAAqB,qBAAR,GAAC,CAAA,CAAA;;;;IAI/EE,kBAAkB,CAAA,cAAA,CAAA;AAClB,IAAAE,kBAAA,CAEK,OAFL,WAEK,EAAA;wBADHJ,kBAAsD,CAAAO,QAAA,EAAA,IAAA,EAAAC,UAAA,CAAnC,QAAQ,CAAA,QAAA,EAAA,CAAf,GAAE,KAAA;AAAd,QAAA,QAAAL,SAAA,EAAA,EAAAH,kBAAA,CAAsD,KAAxB,EAAA,EAAA,GAAG,EAAE,GAAG,oBAAK,GAAI,CAAA,EAAA,CAAA,YAAA,CAAA;;;IAGjDE,kBAA2B,CAAA,uBAAA,CAAA;IAC3BG,WA+CY,CAAAQ,UAAA,EAAA;AA/CC,MAAA,IAAI,EAAE,KAAc,CAAA,cAAA;AAAE,MAAA,IAAI,EAAC,QAAQ;;uBAC9C,MA6CK;sBA7CLb,kBA6CK,CAAA,KAAA,EAAA;UA7CC,GAAG,EAAE,KAAW,CAAA,WAAA,CAAC,OAAO,EAAA;AAAI,UAAA,KAAK,EAAC,kBAAkB;;AACxD,UAAAI,kBAAA,CA2CK,OA3CL,WA2CK,EAAA;AA1CH,aAAAD,SAAA,CAAA,IAAA,CAAA,EAAAH,kBAAA,CAyCKO,QAxCsB,EAAA,IAAA,EAAAC,UAAA,CAAA,QAAA,CAAA,oBAAoB,EAAnC,CAAA,GAAG,EAAE,KAAK,KAAA;mCADtBR,kBAyCK,CAAA,KAAA,EAAA;AAvCA,gBAAA,GAAG,EAAE,KAAK;AACX,gBAAA,KAAK,kBAAC,cAAa,EAAA;AACX,cAAA,OAAA,EAAA,GAAA,CAAA,OAAA;2BAAA,GAAA,CAAA,WAAA,IAAA,CAAA,GAAA,CAAA,WAAA,IAAA,CAAA,GAAA,CAAA,WAAA;4BAAA,GAAA,CAAA,cAAA,IAAA,CAAA,GAAA,CAAA,WAAA,IAAA,CAAA,GAAA,CAAA,WAAA;AAAA,cAAA,YAAA,EAAA,GAAA,CAAA,WAAA;AAAA,cAAA,YAAA,EAAA,GAAA,CAAA,WAAA;;gBAOP,KAAK,EAAAM,cAAA,CAAE,QAAW,CAAA,WAAA,CAAC,GAAG,CAAA,CAAA;gBACtB,OAAK,EAAA,MAAA,KAAE,QAAU,CAAA,UAAA,CAAC,GAAG,CAAA,CAAA;;gBAExBF,kBAAuH,CAAA,KAAA,EAAA;AAAlH,kBAAA,KAAK,EAAC,YAAW;kBAAG,KAAK,EAAAE,cAAA,CAAA,aAAA,EAAiB,MAAa,CAAA,YAAA,GAAA,CAAA,GAAM,MAAa,CAAA,YAAA,GAAA,CAAA,CAAA,CAAA,IAAA,CAAA;mCAAc,GAAG,CAAC,IAAI,CAAC,OAAO,EAAA,CAAA,EAAA,CAAA,mBAAA;gBAE7GJ,kBAAoB,CAAA,gBAAA,CAAA;iBAEV,GAAG,CAAC,WAAY,IAAI,CAAA,GAAG,CAAC,WAAU,IAAA,CAAM,GAAG,CAAC,WAAW;kCADjEF,kBAMK,CAAA,KAAA,EAAA;;AAJD,sBAAA,KAAK,EAAC,cAAa;sBAClB,KAAK,EAAA,CAAA,EAAK,GAAG,CAAC,WAAW,CAAC,IAAI,CAAA,EAAA,EAAK,GAAG,CAAC,WAAW,CAAC,WAAW,CAAA,CAAA;AAC9D,sBAAA,KAAK,EAAqBM,cAAA,CAAA,EAAA,eAAA,EAAA,GAAG,CAAC,WAAW,CAAC,KAAI,EAAA,CAAA;;;gBAInDJ,kBAAqB,CAAA,iBAAA,CAAA;AAEX,gBAAA,CAAA,GAAG,CAAC,cAAa,IAAK,GAAG,CAAC,cAAc,CAAC,MAAK,GAAA,CAAA,IAAA,CAAU,GAAG,CAAC,WAAU,IAAM,CAAA,GAAG,CAAC,WAAW;AADrG,qBAAAC,SAAA,EAAA,EAAAH,kBAAA,CAcK,OAdL,WAcK,EAAA;sBAZHE,kBAA+C,CAAA,2CAAA,CAAA;uBACpC,GAAG,CAAC,cAAc,CAAC,MAAK,GAAA,CAAA;AAAnC,2BAAAC,SAAA,EAAA,EAAAH,kBAAA,CAEK,OAFL,WAEK,EAAAS,eAAA,CADA,GAAG,CAAC,cAAc,CAAC,MAAK,CAAA,EAAA,CAAA,YAAA;;sBAE7BP,kBAAyD,CAAA,qDAAA,CAAA;wCACzDF,kBAMM,CAAAO,QAAA,EAAA,IAAA,EAAAC,UAAA,CALmB,GAAG,CAAC,cAAc,CAAC,KAAK,CAAA,CAAA,EAAA,CAAA,CAAA,EAAA,CAArC,KAAK,EAAE,CAAC,KAAA;6CADpBR,kBAMM,CAAA,KAAA,EAAA;AAJD,0BAAA,GAAG,EAAE,CAAC;AACP,0BAAA,KAAK,EAAC,iBAAgB;AACrB,0BAAA,KAAK,KAAK,KAAK,CAAC,IAAI,CAAK,EAAA,EAAA,KAAK,CAAC,WAAW,CAAA,CAAA;0BAC1C,KAAK,EAAAM,cAAA,CAAA,EAAA,eAAA,EAAqB,KAAK,CAAC;;;;;;;;;;;;;;;;;;;;"}